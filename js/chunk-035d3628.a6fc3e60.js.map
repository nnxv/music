{"version":3,"sources":["webpack:///./src/components/song-list.vue?fe40","webpack:///src/components/song-list.vue","webpack:///./src/components/song-list.vue?2f8d","webpack:///./src/components/song-list.vue","webpack:///./src/components/comment.vue?73a2","webpack:///./src/page/playlist-detail/index.vue?67a0","webpack:///./src/components/song-list.vue?f765","webpack:///./src/components/comments.vue?be5a","webpack:///./src/page/playlist-detail/header.vue?581d","webpack:///./src/page/playlist-detail/index.vue?1866","webpack:///./src/page/playlist-detail/header.vue?9169","webpack:///src/page/playlist-detail/header.vue","webpack:///./src/page/playlist-detail/header.vue?602e","webpack:///./src/page/playlist-detail/header.vue","webpack:///./src/components/comments.vue?104c","webpack:///./src/components/comment.vue?6d7d","webpack:///src/components/comment.vue","webpack:///./src/components/comment.vue?98f0","webpack:///./src/components/comment.vue","webpack:///src/components/comments.vue","webpack:///./src/components/comments.vue?ae54","webpack:///./src/components/comments.vue","webpack:///src/page/playlist-detail/index.vue","webpack:///./src/page/playlist-detail/index.vue?a15a","webpack:///./src/page/playlist-detail/index.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","songs","_l","song","index","key","id","on","$event","onRowClick","isActiveSong","attrs","domProps","_e","class","songCls","name","artistsText","albumName","staticRenderFns","props","type","Array","default","orderShow","Boolean","data","methods","startSong","setPlayerShow","setPlaylist","currentSong","computed","component","ref","style","nativeOn","back","probeType","scroll","playlist","showComment","showPlaylist","directives","rawName","value","commentShow","expression","Number","loadImg","$utils","genImgUrl","coverImgUrl","formatNumber","playCount","creator","avatarUrl","nickname","description","暂无简介","showList","goComment","commentCount","goPlaylist","trackCount","shareCount","Object","getbg","$emit","hotComments","comment","user","load","formatDate","time","likedCount","content","require","String","SONG_TYPE","created","PAGE_SIZE","loading","comments","total","currentPage","watch","handler","newID","getComment","immediate","components","Comment","scrollY","setTimeout","$refs","scroller","refresh","$router","y","init","newVal","plheadBg","bottom","DetailHeader","SongList","Comments"],"mappings":"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","file":"js/chunk-035d3628.a6fc3e60.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"song-list\"},[_c('div',{staticClass:\"button-wrap\"},[_c('PlayIcon'),_c('div',{staticClass:\"button-name\"},[_c('span',[_vm._v(\"全部播放\")]),_c('span',{staticClass:\"song-count\"},[_vm._v(_vm._s((\"(共\" + (_vm.songs.length) + \"首)\")))])])],1),_c('ul',_vm._l((_vm.songs),function(song,index){return _c('li',{key:song.id,staticClass:\"song-item\",on:{\"click\":function($event){return _vm.onRowClick(song)}}},[(_vm.orderShow)?_c('div',{staticClass:\"index-wrap\"},[(_vm.isActiveSong(song.id))?_c('Icon',{staticClass:\"horn\",attrs:{\"type\":\"horn\",\"color\":\"theme\"}}):_c('span',{domProps:{\"textContent\":_vm._s(index + 1)}})],1):_vm._e(),_c('div',{staticClass:\"song-content\"},[_c('p',{staticClass:\"song-name\",class:_vm.songCls(song.id)},[_vm._v(_vm._s(song.name))]),_c('p',{staticClass:\"singer\"},[_vm._v(_vm._s(song.artistsText + ' - ' + song.albumName))])]),(song.mvId)?_c('div',{staticClass:\"icon-wrap\"},[_c('Icon',{staticClass:\"mv-icon\",attrs:{\"type\":\"mv\",\"color\":\"theme\",\"size\":22}})],1):_vm._e()])}),0)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class='song-list'>\r\n    <div class=\"button-wrap\">\r\n      <PlayIcon  />\r\n      <div class=\"button-name\">\r\n        <span>全部播放</span>\r\n        <span class=\"song-count\">{{`(共${songs.length}首)`}}</span>  \r\n      </div>\r\n    </div>\r\n    <ul>\r\n      <li\r\n        @click=\"onRowClick(song)\"\r\n        v-for=\"(song, index) in songs\"\r\n        :key=\"song.id\"\r\n        class=\"song-item\"\r\n      >\r\n        <div class=\"index-wrap\" v-if=\"orderShow\">\r\n          <Icon v-if=\"isActiveSong(song.id)\"\r\n            class=\"horn\"\r\n            type=\"horn\"\r\n            color=\"theme\"\r\n          />\r\n          <span v-else v-text=\"index + 1\"></span>\r\n        </div>\r\n        <div class=\"song-content\">\r\n          <p class=\"song-name\" :class=\"songCls(song.id)\">{{ song.name }}</p>\r\n          <p class=\"singer\">{{ song.artistsText + ' - ' + song.albumName}}</p>\r\n        </div>\r\n        <div\r\n          class=\"icon-wrap\" \r\n          v-if=\"song.mvId\"\r\n        >\r\n          <Icon\r\n            class=\"mv-icon\"\r\n            type=\"mv\"\r\n            color=\"theme\"\r\n            :size=\"22\"\r\n          />\r\n        </div>\r\n      </li>\r\n    </ul>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapActions, mapMutations, mapState } from '@/store/helper/music'\r\n\r\nexport default {\r\n  props: {\r\n    songs: {\r\n      type: Array,\r\n      default: () => []\r\n    },\r\n    orderShow: {\r\n      type: Boolean,\r\n      default: true\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n\r\n    };\r\n  },\r\n  methods: {\r\n    onRowClick(song) {\r\n      this.startSong(song)\r\n      this.setPlayerShow(true)\r\n      this.setPlaylist(this.songs)\r\n    },\r\n    isActiveSong(id) {\r\n      return id === this.currentSong.id\r\n    },\r\n    songCls(id) {\r\n      return this.isActiveSong(id) ? 'playing' : ''\r\n    },\r\n    ...mapActions([\"startSong\"]),\r\n    ...mapMutations([\"setPlaylist\", \"setPlayerShow\"])\r\n  },\r\n  computed: {\r\n    ...mapState([\"currentSong\"])\r\n  }\r\n}\r\n</script>\r\n<style lang='scss' scoped>\r\n.song-list {\r\n  background: #f8f8f8;\r\n  border-radius: 20px 20px 0 0;\r\n\r\n  .button-wrap {\r\n    display: flex;\r\n    flex: 1;\r\n    align-items: center;\r\n    padding: 10px 8px;\r\n    .button-name {\r\n      margin-left: 8px;\r\n      font-weight: bold;\r\n      font-size: $font-size-lg;\r\n\r\n      .song-count {\r\n        font-size: $font-size-sm;\r\n        margin-left: 4px;\r\n        vertical-align: middle;\r\n        color: gray;\r\n        font-weight: 400;\r\n      }\r\n    }\r\n    .right {\r\n      background: #ff3a3a;\r\n    }\r\n  }\r\n  .song-item {\r\n    display: flex;\r\n    align-items: center;\r\n    height: 60px;\r\n\r\n    .index-wrap {\r\n      text-align: center;\r\n      justify-content: center;\r\n      width: 40px;\r\n      font-size: $font-size-lg;\r\n      color: #999;\r\n    }\r\n\r\n    .song-content {\r\n      flex: 1;\r\n      width: 280px;\r\n\r\n      .song-name {\r\n        padding: 6px 0;\r\n        font-size: $font-size-lg;\r\n        @include text-ellipsis();\r\n        &.playing {\r\n          color: $theme-color;\r\n        }\r\n      }\r\n      .singer {\r\n        font-size: $font-size-sm;\r\n        color: #888;\r\n        @include text-ellipsis();\r\n      }\r\n    }\r\n\r\n    .icon-wrap {\r\n      padding: 12px 0;\r\n      width: 40px;\r\n    }\r\n  }\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./song-list.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./song-list.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./song-list.vue?vue&type=template&id=09490647&scoped=true&\"\nimport script from \"./song-list.vue?vue&type=script&lang=js&\"\nexport * from \"./song-list.vue?vue&type=script&lang=js&\"\nimport style0 from \"./song-list.vue?vue&type=style&index=0&id=09490647&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"09490647\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./comment.vue?vue&type=style&index=0&id=5de5bddf&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./comment.vue?vue&type=style&index=0&id=5de5bddf&lang=scss&scoped=true&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=6381ddfe&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=6381ddfe&lang=scss&scoped=true&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./song-list.vue?vue&type=style&index=0&id=09490647&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./song-list.vue?vue&type=style&index=0&id=09490647&lang=scss&scoped=true&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./comments.vue?vue&type=style&index=0&id=055d0f98&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./comments.vue?vue&type=style&index=0&id=055d0f98&lang=scss&scoped=true&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./header.vue?vue&type=style&index=0&id=4ce405a7&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./header.vue?vue&type=style&index=0&id=4ce405a7&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"name\":\"slide\"}},[_c('div',{staticClass:\"playlist-detail\"},[_c('div',{ref:\"plheadBg\",staticClass:\"plhead_bg\",style:(_vm.getbg)}),_c('div',{staticClass:\"list-fixed\"},[_c('Icon',{staticClass:\"back\",attrs:{\"type\":\"back\",\"color\":\"white\"},nativeOn:{\"click\":function($event){return _vm.back($event)}}}),_c('p',{staticClass:\"fixed-title\"},[_vm._v(\"歌单\")])],1),(_vm.songs.length)?_c('Scroll',{ref:\"scroller\",staticClass:\"scrollHeight\",attrs:{\"options\":{ probeType: 3 }},on:{\"scroll\":_vm.scroll}},[_c('DetailHeader',{attrs:{\"playlist\":_vm.playlist},on:{\"show\":_vm.showComment,\"showPlaylist\":_vm.showPlaylist}}),_c('SongList',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.commentShow),expression:\"!commentShow\"}],staticClass:\"song-list\",attrs:{\"songs\":_vm.songs}}),_c('Comments',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.commentShow),expression:\"commentShow\"}],staticClass:\"comment-list\",attrs:{\"id\":Number(_vm.id),\"type\":\"playlist\"},on:{\"load\":_vm.loadImg}})],1):_vm._e()],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.playlist.id)?_c('div',{staticClass:\"playlist-header\"},[_c('div',{staticClass:\"header\"},[_c('div',{staticClass:\"img-wrap\"},[_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(_vm.$utils.genImgUrl(_vm.playlist.coverImgUrl, 130)),expression:\"$utils.genImgUrl(playlist.coverImgUrl, 130)\"}]}),(_vm.playlist.playCount)?_c('div',{staticClass:\"playCount-wrap\"},[_c('Icon',{attrs:{\"type\":\"play\"}}),_vm._v(\" \"+_vm._s(_vm.$utils.formatNumber(_vm.playlist.playCount))+\" \")],1):_vm._e()]),_c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"title-wrap\"},[_c('p',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.playlist.name))])]),_c('div',{staticClass:\"creator-wrap\"},[_c('img',{staticClass:\"avatar\",attrs:{\"src\":_vm.$utils.genImgUrl(_vm.playlist.creator.avatarUrl, 30)}}),_c('p',{staticClass:\"creator\"},[_vm._v(_vm._s(_vm.playlist.creator.nickname))])]),_c('div',{staticClass:\"desc-wrap\"},[(_vm.playlist.description)?_c('p',{staticClass:\"desc\"},[_vm._v(_vm._s(_vm.playlist.description))]):_c('p',{staticClass:\"desc\"},[_vm._v(_vm._s(_vm.暂无简介))])])])]),_c('div',{staticClass:\"button\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.showList),expression:\"!showList\"}],on:{\"click\":_vm.goComment}},[_c('Icon',{attrs:{\"type\":\"pinglun\",\"color\":\"white\",\"size\":18}}),_c('p',[_vm._v(_vm._s(_vm.$utils.formatNumber(_vm.playlist.commentCount)))])],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showList),expression:\"showList\"}],on:{\"click\":_vm.goPlaylist}},[_c('Icon',{attrs:{\"type\":\"gedan\",\"size\":18}}),_c('p',[_vm._v(_vm._s(_vm.$utils.formatNumber(_vm.playlist.trackCount)))])],1),_c('div',[_c('Icon',{attrs:{\"type\":\"share\",\"color\":\"white\",\"size\":18}}),_c('p',[_vm._v(_vm._s(_vm.$utils.formatNumber(_vm.playlist.shareCount)))])],1)])]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class='playlist-header' v-if=\"playlist.id\">\r\n    <div class=\"header\">\r\n      <div class=\"img-wrap\">\r\n        <img v-lazy=\"$utils.genImgUrl(playlist.coverImgUrl, 130)\" >\r\n        <div class=\"playCount-wrap\" v-if=\"playlist.playCount\">\r\n          <Icon type=\"play\" />\r\n          {{ $utils.formatNumber(playlist.playCount) }}\r\n        </div>\r\n      </div>\r\n      <div class=\"content\">\r\n        <div class=\"title-wrap\">\r\n          <p class=\"title\">{{ playlist.name }}</p>\r\n        </div>\r\n        <div class=\"creator-wrap\">\r\n          <img class=\"avatar\" :src=\"$utils.genImgUrl(playlist.creator.avatarUrl, 30)\" >\r\n          <p class=\"creator\">{{ playlist.creator.nickname }}</p>\r\n        </div>\r\n        <div class=\"desc-wrap\">\r\n          <p class=\"desc\" v-if=\"playlist.description\">{{ playlist.description }}</p>\r\n          <p class=\"desc\" v-else>{{ 暂无简介 }}</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"button\">\r\n      <div v-show=\"!showList\" @click=\"goComment\">\r\n        <Icon\r\n          type=\"pinglun\"\r\n          color=\"white\"\r\n          :size=\"18\"\r\n        />\r\n        <p>{{ $utils.formatNumber(playlist.commentCount) }}</p>\r\n      </div>\r\n      <div v-show=\"showList\" @click=\"goPlaylist\">\r\n        <Icon\r\n          type=\"gedan\"\r\n          :size=\"18\"\r\n        />\r\n        <p>{{ $utils.formatNumber(playlist.trackCount) }}</p>\r\n      </div>\r\n      <div>\r\n        <Icon\r\n          type=\"share\" \r\n          color=\"white\"\r\n          :size=\"18\"\r\n        />\r\n        <p>{{ $utils.formatNumber(playlist.shareCount) }}</p>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\nexport default {\r\n  props: {\r\n    playlist: {\r\n      type: Object,\r\n      default: () => ({})\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      showList: false\r\n    }\r\n  },\r\n  computed: {\r\n    getbg() {\r\n      return {'background-image':`url(${this.playlist.coverImgUrl}?param=170y170)` }\r\n    }\r\n  },\r\n  methods: {\r\n    goComment() {\r\n      this.$emit(\"show\")\r\n      this.showList = !this.showList\r\n    },\r\n    goPlaylist() {\r\n      this.$emit(\"showPlaylist\")\r\n      this.showList = !this.showList\r\n    }\r\n  },\r\n}\r\n</script>\r\n<style lang='scss' scoped>\r\n.playlist-header {\r\n  height: 200px;\r\n  position: relative;\r\n  overflow: hidden;\r\n  \r\n  .header {\r\n    display: flex;\r\n    padding: 12px;\r\n    position: relative;\r\n    \r\n    .img-wrap {\r\n      position: relative;\r\n      width: 110px;\r\n      height: 110px;\r\n      margin-right: 16px;\r\n\r\n      img {\r\n        width: 100%;\r\n        height: 100%;\r\n      }\r\n\r\n      .playCount-wrap {\r\n        display: flex;\r\n        align-items: center;\r\n        position: absolute;\r\n        right: 4px;\r\n        top: 1px;\r\n        font-size: $font-size-sm;\r\n        color: $white;\r\n        i {\r\n          display: inline-block;\r\n        }\r\n      }\r\n    }\r\n\r\n    .content {\r\n      display: flex;\r\n      flex-direction: column;\r\n      justify-content: space-between;\r\n      flex: 1;\r\n\r\n      .title-wrap {\r\n        margin-bottom: 4px;\r\n        .title {\r\n          font-size: $font-size-lg;\r\n          color: #fefefe;\r\n        }\r\n      }\r\n\r\n      .creator-wrap {\r\n        display: flex;\r\n        align-items: center;\r\n        margin-bottom: 10px;\r\n\r\n        .avatar {\r\n          width: 30px;\r\n          height: 30px;\r\n          border-radius: 50%;\r\n          margin-right: 6px;\r\n        }\r\n        .creator {\r\n          margin-right: 2px;\r\n          font-size: $font-size;\r\n          color: #e6e6e6;\r\n        }\r\n      }\r\n\r\n      .desc-wrap {\r\n        font-size: $font-size-sm;\r\n        color: hsla(0,0%,100%,.7);\r\n        @include text-ellipsis-multi(2)\r\n      }\r\n    }\r\n  }\r\n\r\n  .button {\r\n    display: flex;\r\n    justify-content: space-around;\r\n    align-items: center;\r\n    color: $white;\r\n    padding: 4px 0;\r\n    text-align: center;\r\n  }\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./header.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./header.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./header.vue?vue&type=template&id=4ce405a7&scoped=true&\"\nimport script from \"./header.vue?vue&type=script&lang=js&\"\nexport * from \"./header.vue?vue&type=script&lang=js&\"\nimport style0 from \"./header.vue?vue&type=style&index=0&id=4ce405a7&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4ce405a7\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"comments-wrap\"},[(_vm.hotComments.length)?_c('div',{staticClass:\"block\"},[_c('p',{staticClass:\"title\"},[_vm._v(\"精彩评论\")]),_vm._l((_vm.hotComments),function(comment){return _c('Comment',{key:comment.id,attrs:{\"comment\":comment}})})],2):_vm._e(),_c('div',{staticClass:\"block\"},[_c('p',{staticClass:\"title\"},[_vm._v(\"最新评论\")]),_vm._l((_vm.comments),function(comment){return _c('Comment',{key:comment.id,attrs:{\"comment\":comment},on:{\"load\":_vm.loadImg}})})],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.comment)?_c('div',{staticClass:\"comment\"},[_c('div',{staticClass:\"avatar\"},[_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(_vm.$utils.genImgUrl(_vm.comment.user.avatarUrl, 80)),expression:\"$utils.genImgUrl(comment.user.avatarUrl, 80)\"}],attrs:{\"alt\":\"\"},on:{\"load\":_vm.load}}),_c('div',{staticClass:\"user\"},[_c('p',{staticClass:\"username\"},[_vm._v(_vm._s(_vm.comment.user.nickname))]),_c('p',{staticClass:\"date\"},[_vm._v(_vm._s(_vm.$utils.formatDate(_vm.comment.time)))])]),_c('div',[_c('span',{staticClass:\"likedCount\"},[_vm._v(_vm._s(_vm.comment.likedCount))]),_c('Icon',{attrs:{\"type\":\"good\",\"size\":12}})],1)]),_c('div',{staticClass:\"content\"},[_c('span',{staticClass:\"text\"},[_vm._v(_vm._s(_vm.comment.content))])])]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"comment\" v-if=\"comment\">\r\n    <div class=\"avatar\">\r\n      <img @load=\"load\" v-lazy=\"$utils.genImgUrl(comment.user.avatarUrl, 80)\" alt=\"\">\r\n      <div class=\"user\">\r\n        <p class=\"username\">{{ comment.user.nickname }}</p>\r\n        <p class=\"date\">{{ $utils.formatDate(comment.time) }}</p>\r\n      </div>\r\n      <div>\r\n        <span class=\"likedCount\">{{ comment.likedCount }}</span>\r\n        <Icon\r\n          type=\"good\"\r\n          :size=\"12\"\r\n        />\r\n      </div>\r\n    </div>\r\n    <div class=\"content\">\r\n      <span class=\"text\">{{ comment.content }}</span>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: [\"comment\"],\r\n  methods: {\r\n    load() {\r\n      this.$emit(\"load\")\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.comment {\r\n  background: #f8f8f8;\r\n\r\n  .avatar {\r\n    display: flex;\r\n    padding: 4px 12px;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    img {\r\n      width: 40px;\r\n      border-radius: 50%;\r\n      margin-right: 12px;\r\n    }\r\n    .user {\r\n      flex: 1;\r\n      color: $blue;\r\n      font-size: $font-size;\r\n      margin-top: 4px;\r\n\r\n      .date {\r\n        margin-top: 4px;\r\n        color: #999;\r\n        font-size: $font-size-sm;\r\n      }\r\n    }\r\n\r\n    .likedCount {\r\n      color: #999;\r\n      font-size: $font-size-sm;\r\n      margin-right: 4px;\r\n    }\r\n  }\r\n\r\n  .content {\r\n    padding: 4px 12px;\r\n    margin-left: 52px;\r\n    font-size: $font-size;\r\n    color: #333333;\r\n    line-height: 22px;\r\n    border-bottom: 1px solid #cccccc;\r\n  }\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./comment.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./comment.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./comment.vue?vue&type=template&id=5de5bddf&scoped=true&\"\nimport script from \"./comment.vue?vue&type=script&lang=js&\"\nexport * from \"./comment.vue?vue&type=script&lang=js&\"\nimport style0 from \"./comment.vue?vue&type=style&index=0&id=5de5bddf&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5de5bddf\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"comments-wrap\">\r\n    <div class=\"block\" v-if=\"hotComments.length\">\r\n      <p class=\"title\">精彩评论</p>\r\n      <Comment\r\n        :comment=\"comment\"\r\n        v-for=\"comment in hotComments\"\r\n        :key=\"comment.id\"\r\n      />\r\n    </div>\r\n    <div class=\"block\">\r\n      <p class=\"title\">最新评论</p>\r\n      <Comment\r\n        v-for=\"comment in comments\"\r\n        :key=\"comment.id\"\r\n        :comment=\"comment\"\r\n        @load=\"loadImg\"\r\n      />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { \r\n  getSongComment,\r\n  getPlaylistComment,\r\n  getHotComment,\r\n  getMvComment\r\n} from \"@/api\"\r\nimport Comment from \"./comment\"\r\n\r\nconst SONG_TYPE = \"song\"\r\nconst PLAYLIST_TYPE = \"playlist\"\r\nconst MV_TYPE = \"mv\"\r\n\r\nconst PAGE_SIZE = 20\r\nexport default {\r\n  props: {\r\n    id: {\r\n      type: Number,\r\n      require: true\r\n    },\r\n    type: {\r\n      type: String,\r\n      default: SONG_TYPE\r\n    }\r\n  },\r\n  created () {\r\n    this.PAGE_SIZE = PAGE_SIZE\r\n  },\r\n  data () {\r\n    return {\r\n      loading: false,\r\n      hotComments: [],\r\n      comments: [],\r\n      total: 0,\r\n      currentPage: 1\r\n    }\r\n  },\r\n  methods: {\r\n    loadImg() {\r\n      this.$emit(\"load\")\r\n    },\r\n    async getComment() {\r\n      this.loading = true\r\n      const commentRequestMap = {\r\n        [PLAYLIST_TYPE]: getPlaylistComment,\r\n        [SONG_TYPE]: getSongComment,\r\n        [MV_TYPE]: getMvComment,\r\n      }\r\n      const commentRequest = commentRequestMap[this.type]\r\n      const { hotComments = [], comments = [], total } = await commentRequest({\r\n        id: this.id,\r\n        pageSize: PAGE_SIZE,\r\n      }).finally(() => {\r\n        this.loading = true\r\n      })\r\n\r\n      // 歌单的热评需要单独请求接口获取\r\n      if (this.type === PLAYLIST_TYPE && this.currentPage === 1) {\r\n        const { hotComments: exactHotComments = [] } = await getHotComment({\r\n          id: this.id,\r\n          type: 2\r\n        })\r\n        this.hotComments = exactHotComments\r\n      } else {\r\n        this.hotComments = hotComments\r\n      }\r\n      this.comments = comments\r\n      this.total = total\r\n      this.$emit(\"update\", { comments, hotComments, total })\r\n    },\r\n\r\n  },\r\n  watch: {\r\n    id: {\r\n      handler(newID) {\r\n        if (newID) {\r\n          this.currentPage = 1\r\n          this.getComment()\r\n        }\r\n      },\r\n      immediate: true\r\n    }\r\n  },\r\n  components: {\r\n    Comment\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.comments-wrap {\r\n  height: 100%;\r\n  position: relative;\r\n  width: 100%;\r\n}\r\n.block {\r\n  &:nth-child(1) {\r\n    border-radius: 20px 20px 0 0;\r\n  }\r\n  background: #f8f8f8;\r\n  overflow: scroll;\r\n  .title {\r\n    font-size: $font-size-lg;\r\n    font-weight: $font-weight-bold;\r\n    padding-left: 12px;\r\n    height: 34px;\r\n    line-height: 34px;\r\n  }\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./comments.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./comments.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./comments.vue?vue&type=template&id=055d0f98&scoped=true&\"\nimport script from \"./comments.vue?vue&type=script&lang=js&\"\nexport * from \"./comments.vue?vue&type=script&lang=js&\"\nimport style0 from \"./comments.vue?vue&type=style&index=0&id=055d0f98&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"055d0f98\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <transition name=\"slide\">\r\n    <div class=\"playlist-detail\">\r\n      <div class=\"plhead_bg\" ref=\"plheadBg\" :style=\"getbg\"></div>\r\n      <div class=\"list-fixed\">\r\n        <Icon @click.native=\"back\" class=\"back\" type=\"back\" color=\"white\" />\r\n        <p class=\"fixed-title\">歌单</p>\r\n      </div>\r\n      <Scroll\r\n        class=\"scrollHeight\"\r\n        v-if=\"songs.length\"\r\n        :options=\"{ probeType: 3 }\"\r\n        @scroll=\"scroll\"\r\n        ref=\"scroller\"\r\n      >\r\n        <DetailHeader\r\n          :playlist=\"playlist\"\r\n          @show=\"showComment\"\r\n          @showPlaylist=\"showPlaylist\"\r\n        />\r\n        <SongList v-show=\"!commentShow\" class=\"song-list\" :songs=\"songs\" />\r\n        <Comments\r\n          class=\"comment-list\"\r\n          v-show=\"commentShow\"\r\n          :id=\"Number(id)\"\r\n          type=\"playlist\"\r\n          @load=\"loadImg\"\r\n        />\r\n      </Scroll>\r\n    </div>\r\n  </transition>\r\n</template>\r\n\r\n<script>\r\nimport { getListDetail, getSongDetail } from '@/api'\r\nimport { createSong } from '@/utils'\r\nimport DetailHeader from './header'\r\nimport SongList from '@/components/song-list'\r\nimport Comments from '@/components/comments'\r\n\r\nconst MAX = 500\r\nexport default {\r\n  props: ['id'],\r\n  data() {\r\n    return {\r\n      playlist: {},\r\n      songs: [],\r\n      commentShow: false,\r\n      scrollY: 0,\r\n    }\r\n  },\r\n  methods: {\r\n    showPlaylist() {\r\n      this.commentShow = !this.commentShow\r\n      setTimeout(() => {\r\n        this.$refs.scroller.refresh()\r\n      }, 20)\r\n    },\r\n    loadImg() {\r\n      this.$refs.scroller.refresh()\r\n    },\r\n    showComment() {\r\n      this.commentShow = !this.commentShow\r\n      setTimeout(() => {\r\n        this.$refs.scroller.refresh()\r\n      }, 20)\r\n    },\r\n    async init() {\r\n      const { playlist } = await getListDetail({ id: this.id })\r\n      this.playlist = playlist\r\n      this.genSonglist(playlist)\r\n    },\r\n    async genSonglist(playlist) {\r\n      const trackIds = playlist.trackIds.map(({ id }) => id)\r\n      const songDetails = await getSongDetail(trackIds.slice(0, MAX))\r\n      const songs = songDetails.songs.map(({ id, name, al, ar, mv, dt }) =>\r\n        createSong({\r\n          id,\r\n          name,\r\n          artists: ar,\r\n          albumName: al.name,\r\n          img: al.picUrl,\r\n          mvId: mv,\r\n          duration: dt,\r\n        })\r\n      )\r\n      this.songs = songs\r\n    },\r\n    back() {\r\n      this.$router.back()\r\n    },\r\n    scroll(y) {\r\n      this.scrollY = y\r\n    },\r\n  },\r\n  computed: {\r\n    getbg() {\r\n      return {\r\n        'background-image': `url(${this.playlist.coverImgUrl}?param=170y170)`,\r\n      }\r\n    },\r\n  },\r\n  watch: {\r\n    id: {\r\n      handler() {\r\n        this.init()\r\n      },\r\n      immediate: true,\r\n    },\r\n    scrollY(newVal) {\r\n      if (newVal > 0) {\r\n        this.$refs.plheadBg.style.bottom = `${58 - newVal / 6}%`\r\n      }\r\n    },\r\n  },\r\n  components: {\r\n    DetailHeader,\r\n    SongList,\r\n    Comments,\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.slide-enter-active,\r\n.slide-leave-active {\r\n  transition: all 0.3s ease;\r\n}\r\n.slide-enter,\r\n.slide-leave-to {\r\n  transform: translate3d(100%, 0, 0);\r\n}\r\n.playlist-detail {\r\n  position: fixed;\r\n  top: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n  z-index: 100;\r\n  background-color: #f8f8f8;\r\n  overflow: hidden;\r\n\r\n  .plhead_bg {\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n    bottom: 58%;\r\n    background-repeat: no-repeat;\r\n    background-size: cover;\r\n    background-position: 50%;\r\n    transform: scale(1.5);\r\n    z-index: -1;\r\n    filter: blur(19px);\r\n\r\n    &::after {\r\n      content: ' ';\r\n      position: absolute;\r\n      width: 100%;\r\n      height: 100%;\r\n      background-color: rgba(0, 0, 0, 0.25);\r\n    }\r\n  }\r\n  .list-fixed {\r\n    display: flex;\r\n    height: 40px;\r\n    justify-content: center;\r\n    align-items: center;\r\n\r\n    .back {\r\n      padding: 10px 8px;\r\n      width: 40px;\r\n    }\r\n    .fixed-title {\r\n      color: $white;\r\n      flex: 1;\r\n      line-height: 40px;\r\n      text-align: center;\r\n      margin-right: 40px;\r\n    }\r\n  }\r\n\r\n  .scrollHeight {\r\n    height: calc(100% - 40px);\r\n    position: relative;\r\n    .song-list {\r\n      display: inline-block;\r\n      position: relative;\r\n      z-index: 2;\r\n      width: 100%;\r\n    }\r\n    .comment-list {\r\n      border-radius: 20px 20px 0 0;\r\n      display: inline-block;\r\n      width: 100%;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=6381ddfe&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=6381ddfe&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6381ddfe\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}